<div class="container-fluid">

  <mat-card>
    <mat-form-field appearance="fill">
      <mat-label>Selecciona una maquina</mat-label>
      <mat-select [(value)]="seleccion" (selectionChange)="getRepuestosByMaquina(seleccion)">
        <mat-option value="all">Todos</mat-option>
        <mat-option *ngFor="let maquina of dataSourceMaquinas" value="{{maquina.id}}">
          {{maquina.maquina_cod}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- <p>Seleccionaste la maquina: <b>{{seleccion}}</b></p> -->


   




    <div class="container-fluid">

      <mat-card>
        <div>
          <div *ngIf="seleccion == 'all'">
            Cantidad total de repuestos asociados: {{cantidadTotal}}
            <div *ngIf="dataSourceMaquinasSinRepuestos != null">
            <dl class="list-group list-group-flush">
              <dt>Las siguientes maquinas no tienen repuestos asociados</dt>
              <dd style="color: #D58E00;" class="list-group-item" *ngFor="let m of dataSourceMaquinasSinRepuestos">
                {{m.maquina_cod}}
              </dd>
            </dl>
          </div>
          </div> 
          <div *ngIf="seleccion != 'all'">
            Cantidad de repuestos asociados a la maquina: {{cantidad}} 
            <div *ngIf="cantidad == 0">
              <p style="color: #D58E00;">La maquina seleccionada no tiene repuestos asociados.</p>
            </div>
          </div>
        </div>
      </mat-card>
      

      

      <app-tabla class="table" [ds]='changeDataSource()' 
                             [columns]='columnsToDisplay' 
                             [width]="'90%'">
      </app-tabla>
    </div>

    <app-button [routerLink]="['lista-repuestos']" [name]="['Nueva asociaciÃ³n']"></app-button>


  </mat-card>

</div>